<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap">
    <title>Umbrella Store</title>
</head>
<body>
    <header>
        <div class="titulo-header"><img class="logo-header" src="../img/header.png" alt="" srcset="">Umbrella</div>
    </header>
    <nav class="main-nav">
        <ul class="menu">
            <li><a href="../index.html">Inicio</a></li>
            <li><a href="../pages/estrategias.html">Estrategias</a></li>
            <li><a href="../pages/cartas.html">Cartas</a></li>
            <li><a href="../pages/rol.html">Rol</a></li>
            <li><a href="../pages/familiares.html">Familiares</a></li>
            <li><a href="../pages/nosotros.html">Nosotros</a></li>
            <li><a href="registro.html">Registro Cliente</a></li>

        </ul>
    </nav>

    <div class="container mt-4">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <h1 class="text-center mb-4">Formulario de Registro de Clientes</h1>
                
                <div class="border border-2 rounded-3 p-4 shadow-sm">
                    <form id="registroForm" novalidate>
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="inputName" class="form-label">Nombre *</label>
                                <input type="text" class="form-control" id="inputName" required>
                                <div class="invalid-feedback">
                                    El nombre es obligatorio.
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label for="inputApellidos" class="form-label">Apellidos *</label>
                                <input type="text" class="form-control" id="inputApellidos" required>
                                <div class="invalid-feedback">
                                    Los apellidos son obligatorios.
                                </div>
                            </div>
                        </div>
                        
                        <div class="row g-3 mt-2">
                            <div class="col-md-6">
                                <label for="inputUsername" class="form-label">Usuario *</label>
                                <div class="input-group">
                                    <span class="input-group-text">@</span>
                                    <input type="text" class="form-control" id="inputUsername" aria-label="Username" required>
                                </div>
                                <div class="invalid-feedback">
                                    El nombre de usuario es obligatorio.
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label for="inputEmail" class="form-label">Email *</label>
                                <input type="email" class="form-control" id="inputEmail" required>
                                <div class="invalid-feedback">
                                    Debe ingresar un email válido.
                                </div>
                            </div>
                        </div>
                        
                        <div class="row g-3 mt-2">
                            <div class="col-md-6">
                                <label for="inputPass" class="form-label">Contraseña *</label>
                                <input type="password" class="form-control" id="inputPass" required>
                                <div class="invalid-feedback" id="passError">
                                    La contraseña debe tener entre 6-18 caracteres, al menos un número y una mayúscula.
                                </div>
                                <div class="form-text">
                                    6-18 caracteres, al menos un número y una mayúscula.
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label for="inputPass2" class="form-label">Confirmar Contraseña *</label>
                                <input type="password" class="form-control" id="inputPass2" required>
                                <div class="invalid-feedback" id="pass2Error">
                                    Las contraseñas deben coincidir.
                                </div>
                            </div>
                        </div>

                         <div class="row g-3 mt-2">
                            <div class="col-md-6">
                                <label for="inputDate" class="form-label">Fecha de Nacimiento *</label>
                                <input type="date" class="form-control" id="inputDate" required>
                                <div class="invalid-feedback" id="dateError">
                                    Debe ser mayor de 13 años para registrarse.
                                </div>
                            </div>
                        </div>
                        
                        <div class="row g-3 mt-2">
                            <div class="col-12">
                                <label for="inputAddress" class="form-label">Dirección de Despacho</label>
                                <input type="text" class="form-control" id="inputAddress" placeholder="Campo opcional">
                                <div class="form-text">Este campo es opcional.</div>
                            </div>
                        </div>
                        
                        <div class="row mt-4">
                            <div class="col-12 text-center">
                                <button class="btn btn-dark btn-lg px-4 me-3" type="submit" id="btnEnviar">
                                   Enviar
                                </button>
                                <button class="btn btn-secondary btn-lg px-4" type="button" id="btnLimpiar">
                                   Limpiar
                                </button>
                            </div>
                        </div>

                        
                        <div class="alert alert-success alert-dismissible fade mt-3" role="alert" id="successAlert" style="display: none;">
                            <strong>¡Excelente!</strong> El formulario se ha enviado correctamente.
                            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <footer class="site-footer mt-5">
        <div class="footer-content">
            <p>&copy; 2025 Umbrela Game Store. Todos los derechos reservados.</p>
            <div class="social-links">
                <a href="https://facebook.com" target="_blank">Facebook</a>
                <a href="https://twitter.com" target="_blank">Twitter</a>
                <a href="https://instagram.com" target="_blank">Instagram</a>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('registroForm');
            const btnEnviar = document.getElementById('btnEnviar');
            const btnLimpiar = document.getElementById('btnLimpiar');
            const successAlert = document.getElementById('successAlert');

            
            function validarEmail(email) {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return emailRegex.test(email);
            }

            
            function validarPassword(password) {
                const hasNumber = /\d/.test(password);
                const hasUpperCase = /[A-Z]/.test(password);
                const validLength = password.length >= 6 && password.length <= 18;
                return hasNumber && hasUpperCase && validLength;
            }

            
            function validarEdad(fechaNacimiento) {
                const hoy = new Date();
                const fechaNac = new Date(fechaNacimiento);
                let edad = hoy.getFullYear() - fechaNac.getFullYear();
                const mesActual = hoy.getMonth();
                const mesNacimiento = fechaNac.getMonth();
                
                if (mesActual < mesNacimiento || (mesActual === mesNacimiento && hoy.getDate() < fechaNac.getDate())) {
                    edad--;
                }
                
                return edad >= 13;
            }

            
            function limpiarFormulario() {
                form.reset();
                const inputs = form.querySelectorAll('.form-control');
                inputs.forEach(input => {
                    input.classList.remove('is-valid', 'is-invalid');
                });
                successAlert.style.display = 'none';
            }

            
            btnLimpiar.addEventListener('click', limpiarFormulario);

            
            document.getElementById('inputPass').addEventListener('input', function() {
                const password = this.value;
                const confirmPassword = document.getElementById('inputPass2').value;
                
                if (password && !validarPassword(password)) {
                    this.classList.add('is-invalid');
                    this.classList.remove('is-valid');
                } else if (password) {
                    this.classList.add('is-valid');
                    this.classList.remove('is-invalid');
                }

                
                if (confirmPassword) {
                    const confirmInput = document.getElementById('inputPass2');
                    if (password === confirmPassword && validarPassword(password)) {
                        confirmInput.classList.add('is-valid');
                        confirmInput.classList.remove('is-invalid');
                    } else {
                        confirmInput.classList.add('is-invalid');
                        confirmInput.classList.remove('is-valid');
                    }
                }
            });

            document.getElementById('inputPass2').addEventListener('input', function() {
                const password = document.getElementById('inputPass').value;
                const confirmPassword = this.value;
                
                if (confirmPassword && password === confirmPassword && validarPassword(password)) {
                    this.classList.add('is-valid');
                    this.classList.remove('is-invalid');
                } else if (confirmPassword) {
                    this.classList.add('is-invalid');
                    this.classList.remove('is-valid');
                }
            });

            
            document.getElementById('inputEmail').addEventListener('input', function() {
                if (this.value && validarEmail(this.value)) {
                    this.classList.add('is-valid');
                    this.classList.remove('is-invalid');
                } else if (this.value) {
                    this.classList.add('is-invalid');
                    this.classList.remove('is-valid');
                }
            });

            
            document.getElementById('inputDate').addEventListener('change', function() {
                if (this.value && validarEdad(this.value)) {
                    this.classList.add('is-valid');
                    this.classList.remove('is-invalid');
                } else if (this.value) {
                    this.classList.add('is-invalid');
                    this.classList.remove('is-valid');
                }
            });

            
            ['inputName', 'inputApellidos', 'inputUsername'].forEach(id => {
                document.getElementById(id).addEventListener('input', function() {
                    if (this.value.trim()) {
                        this.classList.add('is-valid');
                        this.classList.remove('is-invalid');
                    } else {
                        this.classList.add('is-invalid');
                        this.classList.remove('is-valid');
                    }
                });
            });

            
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                let formValido = true;
                
                
                const camposObligatorios = ['inputName', 'inputApellidos', 'inputUsername', 'inputEmail', 'inputPass', 'inputPass2', 'inputDate'];
                
                camposObligatorios.forEach(id => {
                    const campo = document.getElementById(id);
                    if (!campo.value.trim()) {
                        campo.classList.add('is-invalid');
                        campo.classList.remove('is-valid');
                        formValido = false;
                    }
                });

                
                const email = document.getElementById('inputEmail').value;
                if (email && !validarEmail(email)) {
                    document.getElementById('inputEmail').classList.add('is-invalid');
                    formValido = false;
                }

                
                const password = document.getElementById('inputPass').value;
                if (password && !validarPassword(password)) {
                    document.getElementById('inputPass').classList.add('is-invalid');
                    formValido = false;
                }

                
                const confirmPassword = document.getElementById('inputPass2').value;
                if (password !== confirmPassword) {
                    document.getElementById('inputPass2').classList.add('is-invalid');
                    formValido = false;
                }

                
                const fechaNacimiento = document.getElementById('inputDate').value;
                if (fechaNacimiento && !validarEdad(fechaNacimiento)) {
                    document.getElementById('inputDate').classList.add('is-invalid');
                    formValido = false;
                }

                if (formValido) {
                    
                    successAlert.style.display = 'block';
                    successAlert.classList.add('show');
                    
                    
                    setTimeout(() => {
                        limpiarFormulario();
                    }, 3000);
                } else {
                    
                    const primerError = form.querySelector('.is-invalid');
                    if (primerError) {
                        primerError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        primerError.focus();
                    }
                }
            });
        });
    </script>
</body>
</html>